AWSTemplateFormatVersion: "2010-09-09"

#https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cloudformation-overview.html#cfn-concepts-templates

    # EXAM PRO S3 from 2023
Description: Simple S3 Bucket
Resources:
  S3Bucket:
    # https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-s3-bucket.html
    # Above is legacy as S3 no longer reqiure ACLs/so probably group policies?
    Type: 'AWS::S3::Bucket'
    # DeletionPolicy: Retain
    # UpdateReplacePolicy: Retain
    Properties:
        PublicAccessBlockConfiguration:
          BlockPublicAcls: true
          BlockPublicPolicy: true
          IgnorePublicAcls: true
          RestrictPublicBuckets: true
#      BucketName: example-bucket2416 #let us try to get a random name bucket!!!
    






# AWSTemplateFormatVersion: "2010-09-09"

#     # EXAM PRO S3 from 2023
# Resources:
#   S3Bucket:
#     Type: 'AWS::S3::Bucket'
#     DeletionPolicy: Retain
#     Properties:
#       BucketName: DOC-EXAMPLE-BUCKET


# sources:
#   S3Bucket:
#     Type: 'AWS::S3::Bucket'
#     Properties:
#       PublicAccessBlockConfiguration:
#         BlockPublicAcls: false
#         BlockPublicPolicy: false
#         IgnorePublicAcls: false
#         RestrictPublicBuckets: false
#       WebsiteConfiguration:
#         IndexDocument: index.html
#         ErrorDocument: error.html
#     DeletionPolicy: Retain
#     UpdateReplacePolicy: Retain
#   BucketPolicy:
#     Type: 'AWS::S3::BucketPolicy'
#     Properties:
#       PolicyDocument:
#         Id: MyPolicy
#          Version: 2012-10-17 		 	 	 
#         Statement:
#           - Sid: PublicReadForGetBucketObjects
#             Effect: Allow
#             Principal: '*'
#             Action: 's3:GetObject'
#             Resource: !Join 
#               - ''
#               - - 'arn:aws:s3:::'
#                 - !Ref S3Bucket
#                 - /*
#       Bucket: !Ref S3Bucket
# Outputs:
#   WebsiteURL:
#     Value: !GetAtt 
#       - S3Bucket
#       - WebsiteURL
#     Description: URL for website hosted on S3
#   S3BucketSecureURL:
#     Value: !Join 
#       - ''
#       - - 'https://'
#         - !GetAtt 
#           - S3Bucket
#           - DomainName
#     Description: Name of S3 bucket to hold website content

